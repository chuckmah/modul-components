@import 'abstracts/variables';

.m-link {
    transition: color .3s ease;
    position: relative;
    font-weight: $m-font-weight--bold;
    color: $m-color--primary;
    text-decoration: none;

    &::after {
        transition: width .3s ease;
        position: absolute;
        right: 0;
        bottom: 0;

        content: '';

        width: 0px;
        height: 1px;
        background: $m-color--primary;

    }

    &:not(.is-without-visit) {
        &:visited {
            color: $m-color--primary--darker;
        }
    }

    &:not(:active) {
        &:hover,
        &:focus {
            color: $m-color--primary--light;
            .m-link__text {
                &::after {
                    width: 100%;
                    background: $m-color--primary--light;
                    opacity: 1;
                }
            }
        }
    }

    &:focus {
        outline: none;
    }

    &:active {
        color: $m-color--primary--dark;

        .m-link__text {
            &::after {
                right: 0;
                left: auto;
                width: 8%;
                background: $m-color--primary--dark;
                opacity: 0;
            }
        }
    }
}

.m-link__text {
    position: relative;
    flex: 1;

    &::after {
        transition: width .3s ease, opacity .3s ease;
        position: absolute;
        right: 0;
        bottom: -1px; //Magic number
        left: 0;
        content: '';
        width: 8%;
        height: 1px;
        background: $m-color--primary;
        opacity: 0;
    }
}

.m-link__icon {
    font-size: 14px;
    display: inline-flex;

    &.is-left {
        margin-right: $m-margin--s;
    }

    &.is-right {
        margin-left: $m-margin--s;
    }
}
