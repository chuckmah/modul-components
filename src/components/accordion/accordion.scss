@import '../../styles/abstracts/variables';
$m-accordion--icon--l--width: 12px;
$m-accordion--icon--width: 10px;
$m-accordion--icon--l--height: 2px;
$m-accordion--icon--height: 1px;
$m-accordion--border--size: 2px;
$m-accordion--color: $m-color--secondary;
$m-accordion--color--border: $m-color--grey--lighter;

.m-accordion {
    &.is-regular,
    &.is-light {
        .m-accordion__header__tilte {
            &,
            h1,
            h2,
            h3,
            h4,
            h5,
            h6 {
                margin: 0;
                font-size: $m-font-size;
                font-weight: $m-font-weight--bold;
            }
        }
    }

    &.is-regular {
        margin-top: - $m-accordion--border--size;

        header {
            border-left: $m-border-size solid $m-accordion--color;
        }

        .m-accordion__header {
            min-height: 56px;
            padding: $m-padding $m-padding $m-padding $m-margin;
            border-top: $m-accordion--border--size solid $m-accordion--color--border;
            border-bottom: $m-accordion--border--size solid $m-accordion--color--border;
        }

        .m-accordion__body__wrap {
            transition: 0.45s opacity ease, 0.3s transform ease;
            padding: $m-padding;
        }

        .m-accordion__body {
            &.v-enter,
            &.v-leave {
                .m-accordion__body__wrap {
                    transform: translate3d(0, $m-margin--l, 0);
                    opacity: 0;
                }
            }

            &.v-enter-to {
                .m-accordion__body__wrap {
                    transform: translate3d(0, 0, 0);
                    opacity: 1;
                }
            }
        }
    }

    &.is-light {
        margin: $m-margin--s 0;

        .m-accordion__header {
            &:hover {
                .m-accordion__header__tilte {
                    transition: color 0.3s ease;
                    color: $m-color--primary;
                }
            }
        }

        .m-accordion__body__wrap {
            padding-left: $m-margin--l;
            padding-top: $m-margin--s;
            padding-bottom: $m-margin;
        }
    }
}

.m-accordion__header {
    color: $m-color--black;
    text-decoration: none;
    display: flex;
    align-items: center;

    &:focus {
        outline-color: $m-color--primary--lightest;
    }
}

.m-accordion__header__tilte {
    flex: 1;
}

.m-accordion__header__icon {
    position: relative;
    display: block;

    &::before,
    &::after {
        transition: 0.3s transform ease;
        position: absolute;
        top: 50%;
        left: 50%;
        content: '';
        background: $m-color--primary;
        transform: translate3d(-50%, -50%, 0);
    }

    &::before {
        transition: 0.3s transform ease;
    }

    &::after {
        transition: 0.3s transform ease, 0.6s opacity ease;
    }

    &.is-close {
        &::before,
        &::after {
            transform: translate3d(-50%, -50%, 0) rotate(90deg);
        }

        &::before {
            opacity: 0;
        }
    }

    &:not(.is-large) {
        width: $m-accordion--icon--width;
        height: $m-accordion--icon--width;

        &::before {
            width: $m-accordion--icon--width;
            height: $m-accordion--icon--height;
        }

        &::after {
            width: $m-accordion--icon--height;
            height: $m-accordion--icon--width;
        }

        &.has-border {
            width: $m-accordion--icon--width + 8;
            height: $m-accordion--icon--width + 8;
            border-width: $m-accordion--icon--height;
        }
    }

    &.is-large {
        width: $m-accordion--icon--l--width;
        height: $m-accordion--icon--l--width;

        &::before {
            width: $m-accordion--icon--l--width;
            height: $m-accordion--icon--l--height;
        }

        &::after {
            width: $m-accordion--icon--l--height;
            height: $m-accordion--icon--l--width;
        }

        &.has-border {
            width: $m-accordion--icon--l--width + 8;
            height: $m-accordion--icon--l--width + 8;
            border-width: $m-accordion--icon--l--height;
        }
    }

    &.has-border {
        border-color: $m-color--primary;
        border-style: solid;
    }

    &.is-left {
        margin-right: $m-margin--s;
    }

    &.is-right {
        margin-left: $m-margin;
    }
}

.m-accordion__body {
    transition: 0.3s max-height ease;
    overflow: hidden;
    height: auto;
}
