@import '../../styles/abstracts/variables';
$m-accordion--icon--l--width: 12px;
$m-accordion--icon--width: 10px;
$m-accordion--icon--l--height: 2px;
$m-accordion--icon--height: 1px;
$m-accordion--border--size: 2px;
$m-accordion--color: $m-color--secondary;
$m-accordion--color--border: $m-color--grey--light;

.m-accordion {
    &.m--is-regular,
    &.m--is-light {
        .m-accordion__header__title {
            &,
            h1,
            h2,
            h3,
            h4,
            h5,
            h6 {
                margin: 0;
                font-size: $m-font-size;
                font-weight: $m-font-weight--bold;
            }
        }
    }

    &.m--is-regular {
        margin-top: - $m-accordion--border--size;

        .m-accordion {
            &__header {
                min-height: 56px;
                padding: $m-padding $m-padding $m-padding $m-margin;
                border-top: $m-accordion--border--size solid $m-accordion--color--border;
                border-bottom: $m-accordion--border--size solid $m-accordion--color--border;

                &-wrap {
                    border-left: $m-border-size solid $m-accordion--color;
                }
            }

            &__body {
                transition: 0.45s opacity ease, 0.3s transform ease;
                padding: $m-padding;

                &-wrap {
                    &.m--is-anim-active {
                        &.v-enter,
                        &.v-leave {
                            .m-accordion__body__wrap {
                                transform: translate3d(0, $m-margin--l, 0);
                                opacity: 0;
                            }
                        }

                        &.v-enter-to {
                            .m-accordion__body__wrap {
                                transform: translate3d(0, 0, 0);
                                opacity: 1;
                            }
                        }
                    }
                }
            }
        }
    }

    &.m--is-light {
        margin: $m-margin--s 0;

        .m-accordion {
            &__header {
                &:hover {
                    .m-accordion__header__title {
                        transition: color 0.3s ease;
                        color: $m-color--primary;
                    }
                }
            }

            &__body {
                padding-left: $m-margin--l;
                padding-top: $m-margin--s;
                padding-bottom: $m-margin;
            }
        }
    }

    &__header {
        display: flex;
        align-items: center;

        &.m--is-icon-left {
            flex-direction: row-reverse;
        }

        &:not(.m--is-no-style) {
            color: $m-color--black;
            text-decoration: none;
        }

        &__title {
            flex: 1;
        }

        &__icon {
            position: relative;
            display: block;

            &::before,
            &::after {
                position: absolute;
                top: 50%;
                left: 50%;
                content: '';
                background: $m-color--primary;
                transform: translate3d(-50%, -50%, 0);
            }

            &.m--is-anim-active {
                &::before {
                    transition: 0.3s transform ease;
                }

                &::after {
                    transition: 0.3s transform ease, 0.6s opacity ease;
                }
            }

            &.m--is-close {
                &::before,
                &::after {
                    transform: translate3d(-50%, -50%, 0) rotate(90deg);
                }

                &::before {
                    opacity: 0;
                }
            }

            &:not(.m--is-large) {
                width: $m-accordion--icon--width;
                height: $m-accordion--icon--width;

                &::before {
                    width: $m-accordion--icon--width;
                    height: $m-accordion--icon--height;
                }

                &::after {
                    width: $m-accordion--icon--height;
                    height: $m-accordion--icon--width;
                }

                &.m--has-border {
                    width: $m-accordion--icon--width + 8;
                    height: $m-accordion--icon--width + 8;
                    border-width: $m-accordion--icon--height;
                }
            }

            &.m--is-large {
                width: $m-accordion--icon--l--width;
                height: $m-accordion--icon--l--width;

                &::before {
                    width: $m-accordion--icon--l--width;
                    height: $m-accordion--icon--l--height;
                }

                &::after {
                    width: $m-accordion--icon--l--height;
                    height: $m-accordion--icon--l--width;
                }

                &.m--has-border {
                    width: $m-accordion--icon--l--width + 8;
                    height: $m-accordion--icon--l--width + 8;
                    border-width: $m-accordion--icon--l--height;
                }
            }

            &.m--has-border {
                border-color: $m-color--primary;
                border-style: solid;
            }

            &:not(.m--is-left) {
                margin-left: $m-margin;
            }

            &.m--is-left {
                margin-right: $m-margin--s;
            }
        }
    }

    &__body-wrap {
        @include transitionAccordion;
    }

    &__hidden {
        @include visuallyHidden;
    }
}
